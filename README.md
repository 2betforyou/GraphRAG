# FSI_AI_Challenge_Track_1

ê¸ˆìœµë³´ì•ˆ ì‹¤ë¬´ì— ì í•©í•œ ê°œë°œ ë°©ë²•ë¡  ë° AI ëª¨ë¸ì„ ë°œêµ´í•˜ê¸° ìœ„í•´ FSKU í‰ê°€ì§€í‘œë¥¼ ê¸°ë°˜ìœ¼ë¡œ AI ëª¨ë¸ì˜ ì„±ëŠ¥ì„ ê²½ìŸ  


python build_index.py \
  --sources "../dataset/laws/cleaned/*.txt" "../dataset/laws/mitre_bm25_ko_cleaned.jsonl" \
  --index-dir "../dataset/index/law_rag" \
  --embedding-model "intfloat/multilingual-e5-base" \
  --chunk-chars 900 --chunk-overlap 200 \
  --bm25 --gpu-only

python build_index.py \
  --sources "../dataset/laws/cleaned/*.txt" "../dataset/laws/mitre_bm25_ko_cleaned.jsonl" \
  --index-dir "../dataset/index/law_rag" \
  --embedding-model "intfloat/multilingual-e5-base" \
  --chunk-chars 1200 --chunk-overlap 250 \
  --bm25 --gpu-only

<!-- python ask_rag.py \
  --index-dir "../dataset/index/law_rag" \
  --base-model "LGAI-EXAONE/EXAONE-3.5-7.8B-Instruct" \
  --embedding-model "intfloat/multilingual-e5-base" \
  --topk 6 --alpha 0.2 \
  --max-new-tokens 320 --temperature 0.2 --gpu-only \
  --question "ê°œì¸ì‹ ìš©ì •ë³´ ì •ì˜ì™€ í¬í•¨ í•­ëª©ì€?" -->

python train_qlora.py (epoch=16)

python inference2.py \
  --adapter out-exaone-law-qlora/20250827_222002/adapter \
  --rag on \
  --index_dir ../dataset/index/law_rag \
  --rag_topk 5 \
  --rag_max_chars 2000 \
  --bf16 \
  --rag_log_top1



---

<!-- python train_qlora.py (epoch=12) 

python inference5_rag.py \
  --adapter out-exaone-law-qlora/20250827_180959/adapter \
  --rag on \
  --index_dir ../dataset/index \
  --rag_topk 5 \
  --rag_max_chars 2000 \
  --bf16 \
  --rag_log_top1 -->

------

python train_qlora.py (epoch=16)

out-exaone-law-qlora/20250827_222002/adapter

baseline_submission_20250828_014418.csv 
> 0.5945370107

ê·¼ë°ì´ì œ epoch=12ë¡œ í•™ìŠµí•œ ëª¨ë¸ì€ 
> 0.5909390874

ë”°ë¼ì„œ ì¼ë‹¨ì€ ì—í­ì„ ëŠ˜ë¦¬ëŠ”ê²Œ ì¢‹ì€ê±°ê°™ìŒ. 

24, 32, 36 ì´ëŸ°ì‹ìœ¼ë¡œ 







## 1. ëŒ€íšŒ ê·œì¹™  
1) LLM ê¸°ë°˜ í…ìŠ¤íŠ¸ ìƒì„± ìš”ê±´
    ìµœì¢… ë‹µë³€ì€ ìƒì„±í˜• ì–¸ì–´ ëª¨ë¸(LLM)ì— ì˜í•´ ìƒì„±ëœ í…ìŠ¤íŠ¸ì—¬ì•¼ í•˜ë©°, ë‹¨ìˆœí•œ ë£° ê¸°ë°˜ ì¶œë ¥ì´ë‚˜ ì‚¬ì „ ì •ì˜ëœ ì •ë‹µ ëª©ë¡ì—ì„œì˜ ì„ íƒë§Œìœ¼ë¡œ êµ¬ì„±ëœ ì‘ë‹µì€ í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  
    ê²€ìƒ‰ ì¦ê°• ìƒì„±(RAG) ë°©ì‹ì€ í—ˆìš©ë˜ë‚˜, ê²€ìƒ‰ëœ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ë°˜í™˜í•˜ëŠ” ë°©ì‹ì€ ë¶ˆê°€í•˜ë©°, ìƒì„± ëª¨ë¸ì„ í™œìš©í•œ ì¡°í•©, ìš”ì•½, ì¬êµ¬ì„± ë“±ì˜ ê°€ê³µì´ ë°˜ë“œì‹œ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.  
2) ì‚¬ì „ í•™ìŠµ ëª¨ë¸ ì‚¬ìš© ê°€ëŠ¥ ë²”ìœ„  
    2025ë…„ 8ì›” 1ì¼ ì „(~2025.07.31)ì— ê³µì‹ì ìœ¼ë¡œ ê°€ì¤‘ì¹˜ê°€ ê³µê°œë˜ì—ˆìœ¼ë©°, ìµœì†Œí•œ ë¹„ìƒì—…ì  ì´ìš©ì´ í—ˆìš©ëœ ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ì„ ìŠ¤(MIT, Apache 2.0 ë“±)ë¡œ ë°°í¬ëœ ì‚¬ì „ í•™ìŠµ ëª¨ë¸ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì¡°ê±´ì„ ì¶©ì¡±í•˜ì§€ ì•ŠëŠ” ëª¨ë¸ì€ ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.  
3) API ì‚¬ìš© ì œí•œ  
    OpenAI API, Gemini API ë“±ê³¼ ê°™ì´ ì›ê²© ì„œë²„ë¥¼ í†µí•´ ì‘ë‹µì„ ë°›ëŠ” í˜•íƒœì˜ API ê¸°ë°˜ ëª¨ë¸ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ëª¨ë“  ëª¨ë¸ì€ ë¡œì»¬ í™˜ê²½(CPU ë˜ëŠ” GPU ê¸°ë°˜)ì—ì„œ ì§ì ‘ ì‹¤í–‰ ê°€ëŠ¥í•œ í˜•íƒœë¡œë§Œ ì‚¬ìš©í•´ì•¼ í•˜ë©°, ì™¸ë¶€ ì„œë²„(í´ë¼ìš°ë“œ ë“±)ì— ì˜ì¡´í•˜ëŠ” ë°©ì‹ì€ í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  
4) ì™¸ë¶€ ë°ì´í„° ì‚¬ìš© ê°€ëŠ¥  
    2025ë…„ 8ì›” 1ì¼ ì „(~2025.07.31)ì— ê³µì‹ì ìœ¼ë¡œ ê³µê°œë˜ì—ˆìœ¼ë©°, ìµœì†Œí•œ ë¹„ìƒì—…ì  ì´ìš©ì´ í—ˆìš©ëœ ë¼ì´ì„ ìŠ¤(CC BY-NC, CC0, CC-BY-SA, CC-BY-NC-SA ë“±)ë¡œ ë°°í¬ëœ ì™¸ë¶€ ë°ì´í„°ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì¡°ê±´ì„ ì¶©ì¡±í•˜ì§€ ì•ŠëŠ” ì™¸ë¶€ ë°ì´í„°ëŠ” ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.  
    ì§ì ‘ ìˆ˜ì§‘í•œ ë°ì´í„°(ì˜ˆ: ìˆ˜ê¸° ì‘ì„±, ìì²´ í¬ë¡¤ë§)ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì™¸ë¶€ ë°ì´í„°ëŠ” ë°˜ë“œì‹œ ê³µì‹ì ìœ¼ë¡œ ê³µê°œë˜ì–´ ìˆìœ¼ë©°, ë¼ì´ì„ ìŠ¤ê°€ ëª…í™•í•˜ê²Œ ë¶€ì—¬ëœ ê²½ìš°ì—ë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.  
    ë°ì´í„° ì¦ê°•ì€ í—ˆìš©ë˜ë©°, ì½”ë“œ ìƒ êµ¬í˜„ì´ ê°€ëŠ¥í•œ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ë‹¨, ì¦ê°•ì— í™œìš©ëœ ì›ì²œ ë°ì´í„°ì™€ ì‚¬ìš©ëœ ëª¨ë¸ ì—­ì‹œ ëŒ€íšŒ ê·œì¹™2), 3)ì„ ì¶©ì¡±í•´ì•¼ í•©ë‹ˆë‹¤.  
                â€» ë°ì´í„° ì¦ê°• ì˜ˆì‹œ: Rule-Based ê¸°ë°˜ Text ì¦ê°•, ë¡œì»¬ì—ì„œ êµ¬ë™ë˜ëŠ” ìƒì„±AI ëª¨ë¸ì„ í™œìš©í•œ ë°ì´í„° ìƒì„± ë“±  
    
    ğŸ”¹ëª¨ë“  ì™¸ë¶€ ë°ì´í„°ëŠ” ì¶œì²˜, ì‚¬ìš© ë°©ì‹, ë°ì´í„° íŒŒì¼ ë“± ì¦ë¹™ì´ ê°€ëŠ¥í•´ì•¼ í•˜ë©°, ì´ì— ëŒ€í•œ í™•ì¸ì´ ì´ë£¨ì–´ì§€ì§€ ì•Šê±°ë‚˜ ë¼ì´ì„¼ìŠ¤ê°€ ì €ì‘ê¶Œ ì¹¨í•´ ë“± ë²•ì  ë¬¸ì œê°€ ìˆëŠ” ê²½ìš° ì‹¤ê²© ì²˜ë¦¬ë©ë‹ˆë‹¤.  

    ğŸ”¹ëª¨ë“  ë°ì´í„° ì¦ê°• ê³¼ì •ì€ ê´€ë ¨ ì½”ë“œì™€ í•¨ê»˜ ì œì¶œë˜ì–´ì•¼í•©ë‹ˆë‹¤.  

5) ì¶”ë¡  ì½”ë“œëŠ” ì œì‹œëœ ë¦¬ì†ŒìŠ¤ ë‚´ì—ì„œ ì œí•œ ì‹œê°„ ë‚´ ì‘ë™í•  ìˆ˜ ìˆì–´ì•¼í•¨  
    ë¦¬ë”ë³´ë“œ ê²°ê³¼ë¥¼ ì¬í˜„í•  ìˆ˜ ìˆëŠ” ì¶”ë¡  ì½”ë“œëŠ” ì•„ë˜ ë¦¬ì†ŒìŠ¤ ì¡°ê±´ ë‚´ì—ì„œ ì‘ë™í•  ìˆ˜ ìˆì–´ì•¼í•©ë‹ˆë‹¤.  
    ğŸ”¹ì œí•œ ì‹œê°„ : ì „ì²´ í‰ê°€ ë°ì´í„°ì…‹(FSKU)ì— ëŒ€í•˜ì—¬ 4ì‹œê°„ 30ë¶„(270ë¶„)ì„ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. (ìƒ˜í”Œ ë‹¹ ì•½ 30ì´ˆ ë‚´ ì¶”ë¡ )  

        ì¶”ë¡  ì‹œê°„ì€ ìš´ì˜ì§„ì´ ì§ì ‘ ì¶”ë¡  ì½”ë“œë¥¼ 5ë²ˆ ì‹¤í–‰í•˜ì—¬ ì†Œìš”ëœ ì‹œê°„ì˜ í‰ê· ìœ¼ë¡œ ì¸¡ì •í•©ë‹ˆë‹¤.  

    ğŸ”¹ì¶”ë¡  í™˜ê²½(ë¦¬ì†ŒìŠ¤) [Runpod ë§í¬]  

        GPU: RTX 4090 24GB VRAM  

        CPU: 6 vCPU 41GB RAM  

        DISK: 40GB  

        ì£¼ìš” í™˜ê²½: Python 3.10, CUDA 11.8, Pytorch 2.1.0, Ubuntu 22.04  

    ğŸ”¹ì¶”ë¡  ì½”ë“œ ë‚´ì—ëŠ” ëª¨ë¸ ì…ë ¥ì„ ìœ„í•œ ë°ì´í„° ì „ì²˜ë¦¬, ëª¨ë¸ ë¡œë“œ, ëª¨ë¸ ì¶”ë¡ , ìµœì¢… ì¶œë ¥ ìƒì„±ì˜ ëª¨ë“  ê³¼ì •ì´ í¬í•¨ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.  

    ğŸ”¹ì¶”ë¡  ì½”ë“œëŠ” ì¸í„°ë„· ì—°ê²°ì´ ì°¨ë‹¨ëœ ì˜¤í”„ë¼ì¸ í™˜ê²½ ì„œë²„ì—ì„œ ì§„í–‰ë˜ë©°, ì¶”ë¡  ê³¼ì •ì—ì„œ ì¸í„°ë„· í†µì‹  ê³¼ì •ì´ í¬í•¨ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.  

6) ì¶”ë¡  ëª¨ë¸ì€ ë°˜ë“œì‹œ ë‹¨ì¼ LLM ëª¨ë¸ì´ì–´ì•¼í•¨  
    ì¶”ë¡ ì€ ë°˜ë“œì‹œ ë‹¨ì¼ LLM ëª¨ë¸ë¡œ ìˆ˜í–‰í•´ì•¼ í•˜ë©°, ë³µìˆ˜ì˜ LLMì„ ì•™ìƒë¸”í•˜ê±°ë‚˜ ì…ë ¥ ìœ í˜•(4ì§€ì„ ë‹¤, 5ì§€ì„ ë‹¤, ì£¼ê´€ì‹)ì— ë”°ë¼ ë‹¤ë¥¸ LLMì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  


# ëŒ€íšŒ ì£¼ìš” ì¼ì • / í‰ê°€ ë°©ë²• 
âœ… 07/14: ì°¸ê°€ ì‹ ì²­ ì‹œì‘  
âœ… 08/01: ì˜ˆì„  ì‹œì‘  
â˜‘ï¸ 08/22: íŒ€ ë³‘í•© ë§ˆê°  
â˜‘ï¸ 08/29: ì˜ˆì„  ì¢…ë£Œ  
â˜‘ï¸ 09/12: ì½”ë“œ ë° ê²°ê³¼ ë³´ê³ ì„œ ì œì¶œ ë§ˆê°  
â˜‘ï¸ 09/26: ì½”ë“œ ê²€ì¦ ë° ë³¸ì„  í‰ê°€  
â˜‘ï¸ 09/29: ìµœì¢… í‰ê°€ ëŒ€ìƒì ì•ˆë‚´  
â˜‘ï¸ 10/23: ì˜¤í”„ë¼ì¸ ë°œí‘œ í‰ê°€  
â˜‘ï¸ 10/31: ìµœì¢… ìˆ˜ìƒì ë°œí‘œ  
â˜‘ï¸ 11/20: ì˜¤í”„ë¼ì¸ ì‹œìƒì‹   


## í‰ê°€: ì˜ˆì„  ë¦¬ë”ë³´ë“œ 

- ê°ê´€ì‹ ì ìˆ˜: Accuracy  
    ì •í™•ë„(Accuracy): (ì •ë‹µ ì¼ì¹˜í•œ ê°ê´€ì‹ ê°œìˆ˜) / (ì „ì²´ ê°ê´€ì‹ ê°œìˆ˜)  

- ì£¼ê´€ì‹ ì ìˆ˜: 0.6 * CosineSimilarity + 0.4 * KeywordRecall  
    ì˜ë¯¸ ìœ ì‚¬ë„(Cosine Similarity): ì˜ˆì¸¡ ë¬¸ì¥ê³¼ ì •ë‹µ ë¬¸ì¥ ê°„ì˜ OpenAI ì„ë² ë”©(text-embedding-3-small) ê¸°ë°˜ ì½”ì‚¬ì¸ ìœ ì‚¬ë„  
    í‚¤ì›Œë“œ ì¬í˜„ìœ¨(Keyword Recall): ì •ë‹µ í‚¤ì›Œë“œ ì¤‘ ì˜ˆì¸¡ ë¬¸ì¥ì— ë“±ì¥í•œ í‚¤ì›Œë“œ ë¹„ìœ¨  

> Score = 0.5 x ê°ê´€ì‹ ì ìˆ˜ + 0.5 x ì£¼ê´€ì‹ ì ìˆ˜  

## í‰ê°€
- ì˜ˆì„  í‰ê°€  
    ë¦¬ë”ë³´ë“œ Private Score ìƒìœ„ 12íŒ€ ì„ ë°œ  

- ë³¸ì„  í‰ê°€  
    ì˜ˆì„  í‰ê°€ ì„ ë°œ 12íŒ€ ì½”ë“œ ë° ê²°ê³¼ë³´ê³ ì„œ ì œì¶œ í›„ ì½”ë“œ ê²€ì¦ ë° ë³¸ì„  ë‚´ë¶€ í‰ê°€  
    ì¶”ê°€ ë¹„ê³µê°œ í‰ê°€ ë°ì´í„°ì…‹ì— ëŒ€í•œ ì˜ˆì¸¡ ê²°ê³¼ í‰ê°€ 80% + ê²°ê³¼ë³´ê³ ì„œ ì„œë©´ í‰ê°€ ì ìˆ˜ 20%ë¥¼ í•©ì‚°í•œ ì´ì ì„ ê¸°ì¤€ìœ¼ë¡œ ìƒìœ„ 6íŒ€ ì„ ë°œ  
      
    ğŸ”¹ì¶”ê°€ ë¹„ê³µê°œ í‰ê°€ ë°ì´í„°ì…‹: ë¦¬ë”ë³´ë“œ í‰ê°€ ë°ì´í„°ì…‹ì´ ì•„ë‹Œ, ì°¸ê°€ìì—ê²Œ ê³µê°œë˜ì§€ ì•Šì€ ë³„ë„ì˜ ì¶”ê°€ ë°ì´í„°ì…‹  
    ğŸ”¹ì˜ˆì„  í‰ê°€ë¥¼ í†µê³¼í•œ 12íŒ€ì€ ì½”ë“œë¥¼ ì œì¶œí•˜ê³ , ì‹¬ì‚¬ìœ„ì›ì´ ì´ë¥¼ í™œìš©í•´ ì¶”ê°€ ë¹„ê³µê°œ ë°ì´í„°ì…‹ì— ëŒ€í•´ ì§ì ‘ ì¶”ë¡  ë° í‰ê°€ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.  
    ğŸ”¹ì£¼ê´€ì‹ ë¬¸í•­ì— ëŒ€í•œ ì‹¬ì‚¬ìœ„ì› ì •ì„± í‰ê°€ëŠ” 'ìƒì„±ëœ ì‘ë‹µì˜ í‘œí˜„ë ¥, ë…¼ë¦¬ì„±, ë¬¸ì¥ ì™„ì„±ë„, ì‹¤ë¬´ í™œìš©ì„±' ë“±ì„ ì „ë¬¸ê°€ë¡œ êµ¬ì„±ëœ ì‹¬ì‚¬ìœ„ì›ë‹¨ì´ ì¢…í•©ì ìœ¼ë¡œ í‰ê°€í•©ë‹ˆë‹¤.  
    ğŸ”¹ê²°ê³¼ ë³´ê³ ì„œ ì ìˆ˜ëŠ” ìœ„ì˜ í‰ê°€ í•­ëª©ì— ì˜í•´ í‰ê°€ë˜ë©° ì´ì ì˜ 20%ê°€ 2ì°¨ í‰ê°€ ì´ì ì— ë°˜ì˜ë©ë‹ˆë‹¤.  
  
- ìµœì¢… í‰ê°€  
    ë³¸ì„  í‰ê°€ ì„ ë°œ 6íŒ€ ëŒ€ìƒ ì˜¤í”„ë¼ì¸ ë°œí‘œ í‰ê°€ í›„ ìµœì¢… ìƒìœ„ 4íŒ€ ìˆ˜ìƒ  




cp s.doc s.rtf
cp s.doc s_repaired.rtf && echo '}' >> s_repaired.rtf
libreoffice --headless --convert-to docx s_repaired.rtf
ls -la s_repaired.docx
good 